.frame
  = form_for(project) do |f|
    .row
      = f.label :category
      = f.select :category, options_for_select(Project.valid_categories, project.category)
    .row
      = f.label :title
      = f.text_field :title
    .row
      = f.label :modifier
      = f.text_field :modifier
    .row
      = f.label :description
      = f.text_area :description, size: '50x2'
    .row
      = f.label :handle
      = f.text_field :handle
    .row
      = f.label :site_link
      = f.text_field :site_link
    .row
      = f.label :github_link
      = f.text_field :github_link
    .row
      = f.label :source_download
      = f.file_field :source_download
      - if project.persisted?
        .btn.btn-info 
          = link_to "Delete Source", delete_attachment_path(id: project.id, attachment: "source_download"), method: :post
      = link_to "Project Source", project.source_download.url if project.source_download.present?
    .row
      = f.label :image1
      = f.file_field :image1
      - if project.persisted?
        .btn.btn-info 
          = link_to "Delete Image 1", delete_attachment_path(id: project.id, attachment: "image1"), method: :post
      = link_to(image_tag(project.image1.url(:thumbnail)), project.image1.url) if project.image1.present?
    .row
      = f.label :image2
      = f.file_field :image2
      - if project.persisted?
        .btn.btn-info 
          = link_to "Delete Image 2", delete_attachment_path(id: project.id, attachment: "image2"), method: :post
      = link_to(image_tag(project.image2.url(:thumbnail)), project.image2.url) if project.image2.present?
    .row
      = f.label :image3
      = f.file_field :image3
      - if project.persisted?
        .btn.btn-info 
          = link_to "Delete Image 3", delete_attachment_path(id: project.id, attachment: "image3"), method: :post
      = link_to(image_tag(project.image3.url(:thumbnail)), project.image3.url) if project.image3.present?
    .row
      = f.label :image4
      = f.file_field :image4
      - if project.persisted?
        .btn.btn-info 
          = link_to "Delete Image 4", delete_attachment_path(id: project.id, attachment: "image4"), method: :post
      = link_to(image_tag(project.image4.url(:thumbnail)), project.image4.url) if project.image4.present?
    .row
      = f.label :image5
      = f.file_field :image5
      - if project.persisted?
        .btn.btn-info 
          = link_to "Delete Image 5", delete_attachment_path(id: project.id, attachment: "image5"), method: :post
      = link_to(image_tag(project.image5.url(:thumbnail)), project.image5.url) if project.image5.present?
    .row
      = f.label :content
      %br
      = f.text_area :content, size: '75x10', id: "markdown-input"
    .row
      #see_preview.btn.btn-primary
        See Preview
    :javascript
      $(document).ready(function(){
        function updatePreview(){
          MarkdownConverter.updatePreview();
        }
        MarkdownConverter.updatePreview();
        $("#see_preview").click(updatePreview);
      }); 

    .row
      Content Preview
      #preview
    .row
      = f.label :priority
      = f.text_field :priority
    %br
    .row
      = f.submit 'Save'